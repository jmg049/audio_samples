[package]
name = "audio_samples"
version = "1.0.0"
edition = "2024"
authors = ["Jack Geraghty <jgeraghty049@gmail.com>"]
license = "MIT"
readme = "README.md"
homepage = "https://github.com/jmg049/audio_samples"
repository = "https://github.com/jmg049/audio_samples"
documentation = "https://docs.rs/audio_samples"
description = "A high-performance audio processing library for Rust with Python bindings."

keywords = ["audio", "dsp"]
categories = ["encoding"]

[lib]
name = "audio_samples"
crate-type = ["rlib"]

[dependencies]
bytemuck = "1.23.1"
colored = "3.0.0"
ndarray = "0.16.1"
num-traits = "0.2.19"
numpy = { version = "0.26.0", optional = true }
pyo3 = { version = "0.26.0", features = [
    "multiple-pymethods",
], optional = true }
thiserror = "2.0.12"
tracing = "0.1.41"
approx_eq = "0.1.8"
rustfft = "6.2"
realfft = "3.4"
num-complex = "0.4"
fftw-sys = { version = "0.4.0", features = ["intel-mkl"], optional = true }
intel-mkl-src = { version = "0.8.0", optional = true }
i24 = {version = "2.2.0", features = ["alloc", "std", "serde"]}
rubato = { version = "0.16.2" }
serde = "1.0.219"
lazy_static = "1.4"
rayon = { version = "1.10", optional = true }
indicatif = { version = "0.18", optional = true }
tokio = { version = "1.0", features = ["rt", "time", "net", "io-util", "rt-multi-thread", "full"], optional = true }
tokio-util = { version = "0.7", optional = true }
num_cpus = { version = "1.16", optional = true }
futures = { version = "0.3", optional = true }
crossbeam = { version = "0.8", optional = true }
cpal = { version = "0.16", optional = true }
parking_lot = { version = "0.12", optional = true }
num-format = "0.4.4"
rand = "0.9.2"
wide = { version = "0.7", optional = true }
plotly = "0.13.5"
plotly_static = { version = "0.1.0", features = ["chromedriver", "webdriver_download"], optional = true }
serde_json = { version = "1.0", optional = true }
anyhow = "1.0.100"
plotview-rs = { git = "https://github.com/jmg049/plotview-rs.git", version = "0.1.0" }

[features]
default = ["operations", "mkl"]
python = ["dep:pyo3", "dep:numpy", "i24/pyo3"]
parallel-processing = ["dep:rayon", "dep:num_cpus"]
progress-tracking = ["dep:indicatif"]
mkl = ["fftw-sys/intel-mkl"]
simd = ["dep:wide"]
operations = []
static-plots = ["dep:plotly_static", "dep:serde_json"]
tokio = ["dep:tokio"]
