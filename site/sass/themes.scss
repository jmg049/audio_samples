/* Theme Variations - 5 distinct styles with proper contrast */

/* Base theme system */
:root {
  --font-body: system-ui, -apple-system, sans-serif;
  --font-mono: ui-monospace, SFMono-Regular, monospace;
  
  /* Typography scale */
  --font-size-xs: 0.75rem;
  --font-size-sm: 0.875rem;
  --font-size-base: 1rem;
  --font-size-lg: 1.125rem;
  --font-size-xl: 1.25rem;
  --font-size-2xl: 1.5rem;
  --font-size-3xl: 1.875rem;
  --font-size-4xl: 2.25rem;
  
  /* Spacing scale */
  --space-xs: 0.25rem;
  --space-sm: 0.5rem;
  --space-md: 1rem;
  --space-lg: 1.5rem;
  --space-xl: 2rem;
  --space-2xl: 3rem;
  --space-3xl: 4rem;
  
  /* Layout */
  --max-width: 700px;
  --border-radius: 0.375rem;
  --border-radius-sm: 0.25rem;
  --border-radius-lg: 0.5rem;
  
  /* Transitions */
  --transition-theme: color 0.2s ease, background-color 0.2s ease, border-color 0.2s ease;
}

/* Theme 1: Modern (Default) */
:root,
[data-theme="modern"] {
  --color-bg: #ffffff;
  --color-fg: #1a1a1a;
  --color-muted: #6b7280;
  --color-link: #2563eb;
  --color-link-hover: #1d4ed8;
  --color-code-bg: #f8fafc;
  --color-code-fg: #334155;
  --color-border: #e2e8f0;
  --color-accent: #f1f5f9;
  --color-tag: #dbeafe;
  --color-tag-fg: #1e40af;
  --color-success: #059669;
  --color-warning: #d97706;
  --color-error: #dc2626;
  
  /* Unified code block palette - works across all themes */
  --code-bg: #f8faf8;
  --code-fg: #2d3748;
  --code-keyword: #553c9a;
  --code-string: #2d3748;
  --code-number: #2d3748;
  --code-comment: #718096;
  --code-function: #2b6cb0;
  --code-variable: #2d3748;
  --code-operator: #2d3748;
  --code-punctuation: #2d3748;
}

[data-theme="modern dark"] {
  --color-bg: #0f172a;
  --color-fg: #f1f5f9;
  --color-muted: #94a3b8;
  --color-link: #60a5fa;
  --color-link-hover: #3b82f6;
  --color-code-bg: #d9d6ce;
  --color-code-fg: #e2e8f0;
  --color-border: #334155;
  --color-accent: #1e293b;
  --color-tag: #1e40af;
  --color-tag-fg: #93c5fd;
  --color-success: #10b981;
  --color-warning: #f59e0b;
  --color-error: #ef4444;
  
  /* Use the same unified code block palette for dark theme */
  --code-bg: #f8faf8;
  --code-fg: #2d3748;
  --code-keyword: #553c9a;
  --code-string: #2d3748;
  --code-number: #2d3748;
  --code-comment: #718096;
  --code-function: #2b6cb0;
  --code-variable: #2d3748;
  --code-operator: #2d3748;
  --code-punctuation: #2d3748;
}

/* Theme 2: Minimal */
[data-theme="minimal"] {
  --color-bg: #fefefe;
  --color-fg: #2d2d2d;
  --color-muted: #666666;
  --color-link: #000000;
  --color-link-hover: #333333;
  --color-code-bg: #f5f5f5;
  --color-code-fg: #2d2d2d;
  --color-border: #e0e0e0;
  --color-accent: #f9f9f9;
  --color-tag: #eeeeee;
  --color-tag-fg: #333333;
  --color-success: #2d5a2d;
  --color-warning: #8b5a00;
  --color-error: #8b0000;
  
  /* Use unified code block palette */
  --code-bg: #f8faf8;
  --code-fg: #2d3748;
  --code-keyword: #553c9a;
  --code-string: #2d3748;
  --code-number: #2d3748;
  --code-comment: #718096;
  --code-function: #2b6cb0;
  --code-variable: #2d3748;
  --code-operator: #2d3748;
  --code-punctuation: #2d3748;
}

[data-theme="minimal dark"] {
  --color-bg: #1a1a1a;
  --color-fg: #e0e0e0;
  --color-muted: #999999;
  --color-link: #ffffff;
  --color-link-hover: #cccccc;
  --color-code-bg: #2a2a2a;
  --color-code-fg: #e0e0e0;
  --color-border: #333333;
  --color-accent: #2a2a2a;
  --color-tag: #333333;
  --color-tag-fg: #cccccc;
  --color-success: #5a8a5a;
  --color-warning: #cc8800;
  --color-error: #cc3333;
  
  /* Use unified code block palette */
  --code-bg: #f8faf8;
  --code-fg: #2d3748;
  --code-keyword: #553c9a;
  --code-string: #2d3748;
  --code-number: #2d3748;
  --code-comment: #718096;
  --code-function: #2b6cb0;
  --code-variable: #2d3748;
  --code-operator: #2d3748;
  --code-punctuation: #2d3748;
}

/* Theme 3: Academic */
[data-theme="academic"] {
  --color-bg: #fdfdfd;
  --color-fg: #2c2c2c;
  --color-muted: #5d5d5d;
  --color-link: #8b4513;
  --color-link-hover: #a0522d;
  --color-code-bg: #f7f5f3;
  --color-code-fg: #3c3c3c;
  --color-border: #d4c5b0;
  --color-accent: #f9f7f4;
  --color-tag: #f0e68c;
  --color-tag-fg: #8b4513;
  --color-success: #556b2f;
  --color-warning: #cd853f;
  --color-error: #a0522d;
  
  /* Use unified code block palette */
  --code-bg: #f8faf8;
  --code-fg: #2d3748;
  --code-keyword: #553c9a;
  --code-string: #2d3748;
  --code-number: #2d3748;
  --code-comment: #718096;
  --code-function: #2b6cb0;
  --code-variable: #2d3748;
  --code-operator: #2d3748;
  --code-punctuation: #2d3748;
}

[data-theme="academic dark"] {
  --color-bg: #2c2416;
  --color-fg: #f5f2e8;
  --color-muted: #c4b896;
  --color-link: #daa520;
  --color-link-hover: #ffd700;
  --color-code-bg: #3a3020;
  --color-code-fg: #f5f2e8;
  --color-border: #5d5035;
  --color-accent: #3a3020;
  --color-tag: #5d5035;
  --color-tag-fg: #daa520;
  --color-success: #9acd32;
  --color-warning: #f4a460;
  --color-error: #cd853f;
  
  /* Use unified code block palette */
  --code-bg: #f8faf8;
  --code-fg: #2d3748;
  --code-keyword: #553c9a;
  --code-string: #2d3748;
  --code-number: #2d3748;
  --code-comment: #718096;
  --code-function: #2b6cb0;
  --code-variable: #2d3748;
  --code-operator: #2d3748;
  --code-punctuation: #2d3748;
}

/* Theme 4: Retro */
[data-theme="retro"] {
  --color-bg: #faf0e6;
  --color-fg: #2f1b14;
  --color-muted: #8b4513;
  --color-link: #d2691e;
  --color-link-hover: #ff7f50;
  --color-code-bg: #f5deb3;
  --color-code-fg: #2f1b14;
  --color-border: #deb887;
  --color-accent: #f5deb3;
  --color-tag: #ffb347;
  --color-tag-fg: #2f1b14;
  --color-success: #228b22;
  --color-warning: #ff8c00;
  --color-error: #dc143c;
  
  /* Use unified code block palette */
  --code-bg: #f8faf8;
  --code-fg: #2d3748;
  --code-keyword: #553c9a;
  --code-string: #2d3748;
  --code-number: #2d3748;
  --code-comment: #718096;
  --code-function: #2b6cb0;
  --code-variable: #2d3748;
  --code-operator: #2d3748;
  --code-punctuation: #2d3748;
}

[data-theme="retro dark"] {
  --color-bg: #1a0e0a;
  --color-fg: #f5deb3;
  --color-muted: #cd853f;
  --color-link: #ff7f50;
  --color-link-hover: #ffa07a;
  --color-code-bg: #2f1b14;
  --color-code-fg: #f5deb3;
  --color-border: #8b4513;
  --color-accent: #2f1b14;
  --color-tag: #8b4513;
  --color-tag-fg: #ff7f50;
  --color-success: #32cd32;
  --color-warning: #ffa500;
  --color-error: #ff6347;
  
  /* Use unified code block palette */
  --code-bg: #f8faf8;
  --code-fg: #2d3748;
  --code-keyword: #553c9a;
  --code-string: #2d3748;
  --code-number: #2d3748;
  --code-comment: #718096;
  --code-function: #2b6cb0;
  --code-variable: #2d3748;
  --code-operator: #2d3748;
  --code-punctuation: #2d3748;
}

/* Theme 5: High Contrast */
[data-theme="high-contrast"] {
  --color-bg: #ffffff;
  --color-fg: #000000;
  --color-muted: #333333;
  --color-link: #0000ff;
  --color-link-hover: #000080;
  --color-code-bg: #f0f0f0;
  --color-code-fg: #000000;
  --color-border: #000000;
  --color-accent: #f8f8f8;
  --color-tag: #ffff00;
  --color-tag-fg: #000000;
  --color-success: #008000;
  --color-warning: #ff8000;
  --color-error: #ff0000;
  
  /* Use unified code block palette */
  --code-bg: #f8faf8;
  --code-fg: #2d3748;
  --code-keyword: #553c9a;
  --code-string: #2d3748;
  --code-number: #2d3748;
  --code-comment: #718096;
  --code-function: #2b6cb0;
  --code-variable: #2d3748;
  --code-operator: #2d3748;
  --code-punctuation: #2d3748;
}

[data-theme="high-contrast dark"] {
  --color-bg: #000000;
  --color-fg: #ffffff;
  --color-muted: #cccccc;
  --color-link: #00ffff;
  --color-link-hover: #ffffff;
  --color-code-bg: #1a1a1a;
  --color-code-fg: #ffffff;
  --color-border: #ffffff;
  --color-accent: #1a1a1a;
  --color-tag: #ffff00;
  --color-tag-fg: #000000;
  --color-success: #00ff00;
  --color-warning: #ffff00;
  --color-error: #ff0000;
  
  /* Use unified code block palette */
  --code-bg: #f8faf8;
  --code-fg: #2d3748;
  --code-keyword: #553c9a;
  --code-string: #2d3748;
  --code-number: #2d3748;
  --code-comment: #718096;
  --code-function: #2b6cb0;
  --code-variable: #2d3748;
  --code-operator: #2d3748;
  --code-punctuation: #2d3748;
}

/* Override Zola's base16 syntax highlighting with our unified code palette */
/* Base16 Ocean Dark theme class overrides */
pre code .base00 { color: var(--code-fg) !important; }
pre code .base01 { color: var(--code-comment) !important; }
pre code .base02 { color: var(--code-comment) !important; }
pre code .base03 { color: var(--code-comment) !important; }
pre code .base04 { color: var(--code-comment) !important; }
pre code .base05 { color: var(--code-fg) !important; }
pre code .base06 { color: var(--code-fg) !important; }
pre code .base07 { color: var(--code-fg) !important; }
pre code .base08 { color: var(--code-keyword) !important; }
pre code .base09 { color: var(--code-number) !important; }
pre code .base0a { color: var(--code-string) !important; }
pre code .base0b { color: var(--code-string) !important; }
pre code .base0c { color: var(--code-function) !important; }
pre code .base0d { color: var(--code-function) !important; }
pre code .base0e { color: var(--code-variable) !important; }
pre code .base0f { color: var(--code-number) !important; }

/* Standard highlight.js classes (if they exist) */
pre code .hljs-keyword { color: var(--code-keyword) !important; }
pre code .hljs-string { color: var(--code-string) !important; }
pre code .hljs-number { color: var(--code-number) !important; }
pre code .hljs-comment { color: var(--code-comment) !important; }
pre code .hljs-function { color: var(--code-function) !important; }
pre code .hljs-variable { color: var(--code-variable) !important; }
pre code .hljs-operator { color: var(--code-operator) !important; }
pre code .hljs-punctuation { color: var(--code-punctuation) !important; }

/* Fallback for base16 theme elements */
pre code .hljs-built_in { color: var(--code-function) !important; }
pre code .hljs-literal { color: var(--code-number) !important; }
pre code .hljs-title { color: var(--code-function) !important; }
pre code .hljs-params { color: var(--code-variable) !important; }
pre code .hljs-attr { color: var(--code-variable) !important; }
pre code .hljs-tag { color: var(--code-keyword) !important; }
pre code .hljs-name { color: var(--code-function) !important; }
pre code .hljs-selector-class { color: var(--code-function) !important; }
pre code .hljs-selector-id { color: var(--code-function) !important; }
pre code .hljs-meta { color: var(--code-comment) !important; }

/* Additional contrast fixes */
pre code .hljs-subst { color: var(--code-fg) !important; }
pre code .hljs-regexp { color: var(--code-string) !important; }
pre code .hljs-symbol { color: var(--code-number) !important; }
pre code .hljs-class { color: var(--code-function) !important; }
pre code .hljs-type { color: var(--code-keyword) !important; }
pre code .hljs-doctag { color: var(--code-comment) !important; }
pre code .hljs-section { color: var(--code-keyword) !important; }
pre code .hljs-selector-tag { color: var(--code-keyword) !important; }
pre code .hljs-deletion { color: var(--color-error) !important; }
pre code .hljs-addition { color: var(--color-success) !important; }
pre code .hljs-quote { color: var(--code-string) !important; }
pre code .hljs-emphasis { font-style: italic; }
pre code .hljs-strong { font-weight: bold; }

/* Nuclear option: Override ALL inline styles in code blocks */
pre[style] {
  background-color: var(--code-bg) !important;
  color: var(--code-fg) !important;
}

pre code span[style] { 
  color: var(--code-fg) !important; 
  background-color: transparent !important;
}

/* Specific color mappings from Zola's base16 theme to our unified code palette */
pre code span[style*="#b48ead"] { color: var(--code-keyword) !important; }  /* Purple - keywords (def, while, etc.) */
pre code span[style*="#8fa1b3"] { color: var(--code-function) !important; }  /* Blue - functions */
pre code span[style*="#bf616a"] { color: var(--code-variable) !important; }  /* Red - variables */
pre code span[style*="#d08770"] { color: var(--code-number) !important; }   /* Orange - numbers */
pre code span[style*="#65737e"] { color: var(--code-comment) !important; }  /* Gray - comments */
pre code span[style*="#96b5b4"] { color: var(--code-function) !important; }  /* Teal - functions (print, etc.) */
pre code span[style*="#a3be8c"] { color: var(--code-string) !important; }   /* Green - strings */
pre code span[style*="#ebcb8b"] { color: var(--code-string) !important; }   /* Yellow - strings */
pre code span[style*="#88c0d0"] { color: var(--code-function) !important; }  /* Light blue - functions */
pre code span[style*="#81a1c1"] { color: var(--code-function) !important; }  /* Blue - functions */
pre code span[style*="#5e81ac"] { color: var(--code-keyword) !important; }  /* Dark blue - keywords */

/* Force reset all spans without specific color mapping */
pre code span:not([style*="#b48ead"]):not([style*="#8fa1b3"]):not([style*="#bf616a"]):not([style*="#d08770"]):not([style*="#65737e"]):not([style*="#96b5b4"]):not([style*="#a3be8c"]):not([style*="#ebcb8b"]):not([style*="#88c0d0"]):not([style*="#81a1c1"]):not([style*="#5e81ac"]) {
  color: var(--code-fg) !important;
}

/* Alternative approach - override by element content */
pre code span {
  color: var(--code-fg) !important;
}

/* Then reapply syntax colors */
pre code span[style*="#b48ead"] { color: var(--code-keyword) !important; }
pre code span[style*="#8fa1b3"] { color: var(--code-function) !important; }
pre code span[style*="#bf616a"] { color: var(--code-variable) !important; }
pre code span[style*="#d08770"] { color: var(--code-number) !important; }
pre code span[style*="#65737e"] { color: var(--code-comment) !important; }
pre code span[style*="#96b5b4"] { color: var(--code-function) !important; }
pre code span[style*="#a3be8c"] { color: var(--code-string) !important; }
pre code span[style*="#ebcb8b"] { color: var(--code-string) !important; }